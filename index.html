<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Class X Boards 2026</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=Roboto+Mono&display=swap');
    body {
      background: linear-gradient(135deg, #1e3a5f 0%, #162d47 50%, #0f1f35 100%);
      min-height: 100vh;
      font-family: 'Inter', sans-serif;
      color: #2c3e50;
      padding: 2rem 1rem 4rem 1rem;
    }
    h1 {
      font-size: 2.5rem;
      font-weight: 700;
      text-align: center;
      margin-bottom: 0.5rem;
      letter-spacing: 1px;
      color: #ecf0f1;
      text-shadow: 0 2px 8px rgba(0,0,0,0.5);
    }
    .subtitle {
      font-size: 1.05rem;
      text-align: center;
      margin-bottom: 1rem;
      color: #bdc3c7;
    }
    .subtitle a {
      color: #85c1e2;
      text-decoration: none;
      border-bottom: 2px solid #85c1e2;
      transition: all 0.3s;
      font-weight: 600;
    }
    .subtitle a:hover { color: #ecf0f1; border-bottom-color: #ecf0f1; }
    #datetimeContainer {
      width: 100%; max-width: 720px; margin: 0 auto 2rem auto;
      text-align: center; padding: 0.8rem; background: rgba(59, 130, 246, 0.1);
      border-radius: 8px; border: 1px solid #3b82f6; color: #e0e7ff;
      font-size: 1.1rem; font-weight: 600; font-family: 'Roboto Mono', monospace;
    }
    #examList {
      width: 100%; max-width: 720px; margin: 0 auto 2rem auto;
      display: grid; grid-template-columns: 1fr; gap: 1.5rem;
    }
    #clearContainer {
      width: 100%; max-width: 720px; margin: 1rem auto;
      text-align: center;
    }
    #clearAllBtn {
      background: #e74c3c; color: #ffffff; border: none; padding: 0.8rem 2rem;
      border-radius: 8px; font-size: 1rem; font-weight: 600; cursor: pointer;
      transition: all 0.3s; width: 100%; max-width: 300px;
    }
    #clearAllBtn:hover { background: #c0392b; transform: scale(1.02); }
    .subject {
      background: linear-gradient(135deg,#3b82f6 0%,#2563eb 100%);
      border-radius: 12px; padding: 1.8rem; box-shadow: 0 8px 30px rgba(0,0,0,0.35),
      0 0 20px rgba(59,130,246,0.4); transition: all 0.3s; border: 2px solid #1e40af;
      text-align: center;
    }
    .subject:hover {
      transform: translateY(-6px); box-shadow: 0 15px 40px rgba(0,0,0,0.4),
      0 0 30px rgba(59,130,246,0.6); border-color: #1e3a8a;
      background: linear-gradient(135deg,#60a5fa 0%,#3b82f6 100%);
    }
    .subject.completed {
      background: linear-gradient(135deg, #27ae60 0%, #219a52 100%);
      border-color: #1e7e34;
      box-shadow: 0 8px 30px rgba(0,0,0,0.35), 0 0 20px rgba(39,174,96,0.4);
    }
    .subject.completed:hover {
      transform: translateY(-6px); box-shadow: 0 15px 40px rgba(0,0,0,0.4),
      0 0 30px rgba(39,174,96,0.6); border-color: #155724;
      background: linear-gradient(135deg, #2ecc71 0%, #27ae60 100%);
    }
    .subject.highlight {
      border: 3px solid #e74c3c; box-shadow: 0 0 30px rgba(231,76,60,0.5),
      0 8px 30px rgba(0,0,0,0.35); background: linear-gradient(135deg,#ffa07a 0%,#ff8c69 100%);
    }
    .subject h2 {
      margin: 0 0 0.8rem 0; font-size: 1.6rem; font-weight: 700; color: #ffffff;
    }
    .subject.completed h2 { color: #ffffff; }
    .exam-date { font-size: 1.1rem;color: #e0e7ff; margin-bottom: 0.6rem;font-weight: 600;}
    .subject.completed .exam-date { color: #d4edda; }
    .countdown { font-size: 1.65rem; color: #fef08a; font-weight: 700; margin-bottom: 0.5rem;}
    .subject.completed .countdown { color: #d4edda; }
    .message { font-size: 1.15rem;margin-top: 0.6rem;color: #86efac;font-weight: 700;}
    .subject.completed .message { color: #d4edda; }
    .toggle-btn {
      background: #ffffff; color: #1e40af; border: none; padding: 0.6rem 1.2rem;
      border-radius: 6px; font-size: 0.95rem; font-weight: 600; cursor: pointer;
      transition: all 0.3s; margin-top: 0.8rem; display: block; margin: 0.8rem auto 0 auto;
    }
    .subject.completed .toggle-btn { color: #155724; background: #d4edda; }
    .toggle-btn:hover { background: #f0f4f8; transform: scale(1.05); }
    .toggle-btn.open { background: #86efac; color: #1e40af; }
    .subject.completed .toggle-btn.open { background: #c3e6cb; color: #155724; }
    .portions {
      margin-top: 1.2rem; padding: 1.2rem; background: #f0f4f8; border-left: 5px solid #3b82f6;
      color: #1e3a5f; font-size: 0.95rem; border-radius: 8px; max-height: 400px;
      overflow-y: auto; display: none; text-align: left; line-height: 1.7;
    }
    .subject.completed .portions { border-left-color: #27ae60; background: #d4edda; }
    .section-header {
      font-weight: 700; color: #1e40af; margin: 15px 0 8px 0; padding: 8px 0;
      border-bottom: 2px solid #e0e7ff; display: flex; justify-content: space-between; align-items: center;
    }
    .section-header.complete {
      text-decoration: line-through; color: #b1b7be; opacity: 0.7;
    }
    .section-header.complete::after { content: " ✓ Complete"; font-size: 0.85rem; color: #27ae60; }
    .checkbox-list { list-style: none; padding-left: 0; margin: 8px 0; }
    .checkbox-list li {
      margin: 10px 0; font-size: 1rem; display: flex; align-items: center; gap: 8px;
    }
    .checkbox-list input[type="checkbox"] {
      accent-color: #2563eb; width: 20px; height: 20px; margin-right: 10px;
    }
    .subject.completed .checkbox-list input[type="checkbox"] { accent-color: #27ae60; }
    .checkbox-list input[type="checkbox"]:checked + label {
      text-decoration: line-through; color: #b1b7be; opacity: 0.7;
    }
    .portions b { color: #1e40af; font-weight: 700; }
    .portions.open { display: block; animation: slideDown 0.3s ease; }
    @keyframes slideDown { from { opacity: 0; transform: translateY(-10px);} to { opacity: 1; transform: translateY(0);}}
    #progressContainer {margin:2.5rem auto 0 auto;width:100%;max-width:720px;background:#ecf0f1;
      border-radius:12px;height:36px;overflow:hidden;box-shadow:0 4px 12px rgba(0,0,0,0.2);
      border:2px solid #d1d5db;}
    #progressBar {height:100%;width:0;background:linear-gradient(90deg,#3498db 0%,#2980b9 50%,#1a5276 100%);
      border-radius:12px;box-shadow:inset 0 -2px 8px rgba(0,0,0,0.1);transition:width 0.8s ease;animation:shimmer 2s infinite;}
    @keyframes shimmer {0%,100%{opacity:1;}50%{opacity:0.85;}}
    #finished {margin-top:3rem;font-size:2rem;color:#86efac;text-shadow:0 2px 8px rgba(0,0,0,0.2);
      display:none;font-weight:800;text-align:center;}
    @media (max-width:600px){
      h1{font-size:1.8rem;}.subtitle{font-size:0.95rem;}#examList{gap:1rem;}.subject{padding:1.3rem;}
      .subject h2{font-size:1.3rem;}.countdown{font-size:1.3rem;}.portions{font-size:0.85rem;max-height:250px;}
      .toggle-btn { padding: 0.5rem 1rem; font-size: 0.9rem; }
      .section-header { font-size: 0.95rem; }
      #clearAllBtn { padding: 0.7rem 1.5rem; font-size: 0.95rem; }
      #datetimeContainer { font-size: 1rem; padding: 0.6rem; }
    }
  </style>
</head>
<body>
  <h1>Class X Boards 2026</h1>
  <div class="subtitle">
    According to <a href="https://www.cbse.gov.in/cbsenew/documents/Tentative_DateSheet_24092025.pdf" target="_blank">Tentative Schedule</a> released by CBSE
  </div>
  <div id="datetimeContainer">
    <span id="currentDateTime">06-11-2025 23:00</span>
  </div>
  <div id="examList"></div>
  <div id="clearContainer">
    <button id="clearAllBtn">Clear All Progress</button>
  </div>
  <div id="progressContainer"><div id="progressBar"></div></div>
  <div id="finished">All exams completed! Well done, Champion!</div>
<script>
// Nested structure: subjects have sections, each with name and chapters array
const exams = [
  {
    subject: "Mathematics [041]", date: "2026-02-17",
    sections: [
      { name: "Chapters", chapters: [
        "Real Numbers","Polynomials","Pair Of Linear Equations In Two Variables",
        "Quadratic Equations","Arithmetic Progressions","Triangles","Coordinate Geometry",
        "Introduction To Trigonometry","Applications Of Trigonometry",
        "Circles","Areas Related To Circles","Surface Areas And Volumes",
        "Statistics and Probability"
      ]}
    ]
  },
  {
    subject: "English [184]", date: "2026-02-21",
    sections: [
      { name: "First Flight (Prose)", chapters: [
        "A Letter to God","Nelson Mandela: Long Walk to Freedom",
        "Two Stories about Flying (His First Flight & Black Aeroplane)",
        "From the Diary of Anne Frank","Glimpses of India (A Baker from Goa, Coorg, Tea from Assam)",
        "Mijbil the Otter","Madam Rides the Bus",
        "The Sermon at Benares","The Proposal (Play)"
      ]},
      { name: "First Flight (Poetry)", chapters: [
        "Dust of Snow","Fire and Ice",
        "A Tiger in the Zoo","How to Tell Wild Animals",
        "The Ball Poem","Amanda!","The Trees",
        "Fog","The Tale of Custard the Dragon","For Anne Gregory"
      ]},
      { name: "Footprints without Feet (Supplementary Reader)", chapters: [
        "A Triumph of Surgery","The Thief's Story","The Midnight Visitor",
        "A Question of Trust","Footprints without Feet",
        "The Making of a Scientist","The Necklace",
        "Bholi","The Book that Saved the Earth"
      ]}
    ]
  },
  {
    subject: "Science [086]", date: "2026-02-25",
    sections: [
      { name: "Chemistry", chapters: [
        "Chemical Reactions and Equations", "Acids, Bases, and Salts", "Metals and Non-metals",
        "Carbon and its Compounds"
      ]},
      { name: "Biology", chapters: [
        "Life Processes","Control and Coordination","How do Organisms Reproduce","Heredity",
        "Our Environment"
      ]},
      { name: "Physics", chapters: [
        "Light — Reflection and Refraction","The Human Eye and the Colourful World","Electricity",
        "Magnetic Effects of Electric Current"
      ]}
    ]
  },
  {
    subject: "Artificial Intelligence [417]", date: "2026-02-27",
    sections: [
      { name: "Units", chapters: [
        "Employability Skills","AI Project Cycle","AI Domains","Ethics in AI",
        "Modeling & Data Analysis","Computer Vision","Natural Language Processing","Python for AI"
      ]}
    ]
  },
  {
    subject: "Sanskrit [119]", date: "2026-02-28",
    sections: [
      { name: "साहित्यम्: मणिका (Literature)", chapters: [
        "Chapter 1","Chapter 2","Chapter 3","Chapter 4","Chapter 5",
        "Chapter 6","Chapter 7","Chapter 8","Chapter 9","Chapter 10"
      ]},
      { name: "व्याकरण (Grammar)", chapters: [
        "संधि","समास","प्रत्यय","वाच्यप्रकरण","शब्दरूपाणि","धातुरूपाणि","अव्ययपदानि","अशुद्धि संशोधन"
      ]},
      { name: "रचनात्मक कार्य (Composition)", chapters: [
        "पत्र लेखन (Letter Writing)","चित्रवर्णन (Picture Description)","संवाद लेखन (Dialogue Writing)","अनुवाद (Translation)"
      ]}
    ]
  },
  {
    subject: "Social Science [087]", date: "2026-03-07",
    sections: [
      { name: "History", chapters: [
        "The Rise of Nationalism in Europe","Nationalism in India","The Making of a Global World",
        "The Age of Industrialisation","Print Culture and the Modern World"
      ]},
      { name: "Geography", chapters: [
        "Resources and Development","Forest and Wildlife Resources","Water Resources",
        "Agriculture","Minerals and Energy Resources","Manufacturing Industries",
        "Lifelines of National Economy"
      ]},
      { name: "Political Science", chapters: [
        "Power Sharing","Federalism",
        "Gender, Religion and Caste","Political Parties","Outcomes of Democracy"
      ]},
      { name: "Economics", chapters: [
        "Development","Sectors of the Indian Economy","Money and Credit",
        "Globalisation and the Indian Economy","Consumer Rights"
      ]}
    ]
  }
];

const months = ["January","February","March","April","May","June","July","August","September","October","November","December"];

function getDateStr(dateStr) {
  const d = new Date(dateStr + "T10:30:00");
  const day = d.getDate();
  const month = months[d.getMonth()];
  const year = d.getFullYear();
  let suffix = "th";
  if (day === 1 || day === 21 || day === 31) suffix = "st";
  else if (day === 2 || day === 22) suffix = "nd";
  else if (day === 3 || day === 23) suffix = "rd";
  return `${day}${suffix} ${month} ${year}`;
}

function formatTimediff(diff) {
  const days = Math.floor(diff/(1000*60*60*24));
  const hours = Math.floor((diff%(1000*60*60*24))/(1000*60*60));
  const minutes = Math.floor((diff%(1000*60*60))/(1000*60));
  return {days, hours, minutes};
}

function getStorageKey(subject, sectionIndex, chapterIndex) {
  return `boards_ch_${subject.replace(/[^a-zA-Z0-9]/g,"_")}_sec${sectionIndex}_ch${chapterIndex}`;
}

function isSectionComplete(subject, sectionIndex, sectionChapters) {
  return sectionChapters.every((_, i) => localStorage.getItem(getStorageKey(subject, sectionIndex, i)) === "1");
}

function isSubjectComplete(exam) {
  return exam.sections.every((section, secIdx) => isSectionComplete(exam.subject, secIdx, section.chapters));
}

function renderSections(subject, sections) {
  let html = '';
  sections.forEach((section, secIdx) => {
    const complete = isSectionComplete(subject, secIdx, section.chapters);
    html += `<div class="section-header ${complete ? 'complete' : ''}">${section.name}</div>`;
    html += `<ul class="checkbox-list">`;
    section.chapters.forEach((ch, chIdx) => {
      const key = getStorageKey(subject, secIdx, chIdx);
      const checked = localStorage.getItem(key) === "1" ? "checked" : "";
      html += `<li>
        <input type="checkbox" id="${key}" ${checked}>
        <label for="${key}" style="cursor:pointer">${ch}</label>
      </li>`;
    });
    html += `</ul>`;
  });
  return html;
}

function clearAllTicks() {
  if (!confirm("Are you sure you want to clear all progress? This cannot be undone.")) return;
  exams.forEach(exam => {
    exam.sections.forEach((section, secIdx) => {
      section.chapters.forEach((_, chIdx) => {
        const key = getStorageKey(exam.subject, secIdx, chIdx);
        localStorage.removeItem(key);
      });
    });
  });
  updateCountdown(); // Refresh the UI
}

function updateDateTime() {
  const now = new Date();
  const day = now.getDate().toString().padStart(2, '0');
  const month = (now.getMonth() + 1).toString().padStart(2, '0');
  const year = now.getFullYear();
  const hours = now.getHours().toString().padStart(2, '0');
  const minutes = now.getMinutes().toString().padStart(2, '0');
  document.getElementById("currentDateTime").textContent = `${day}-${month}-${year} ${hours}:${minutes}`;
}

const container = document.getElementById("examList");
const progressBar = document.getElementById("progressBar");
const finishedText = document.getElementById("finished");
const clearBtn = document.getElementById("clearAllBtn");
clearBtn.addEventListener("click", clearAllTicks);

function updateCountdown() {
  container.innerHTML = "";
  const now = new Date();
  let completed = 0;
  const active = exams.filter(exam => {
    const end = new Date(exam.date + "T13:30:00");
    return now < end;
  });
  completed = exams.length - active.length;
  active.forEach((exam) => {
    const start = new Date(exam.date + "T10:30:00");
    const end = new Date(exam.date + "T13:30:00");
    const dayBefore = new Date(start.getTime() - 24*60*60*1000);
    const div = document.createElement("div");
    div.classList.add("subject");
    const subjectComplete = isSubjectComplete(exam);
    if (subjectComplete) {
      div.classList.add("completed");
      const completeBadge = document.createElement("div");
      completeBadge.textContent = "Completed";
      completeBadge.style.color = "#d4edda";
      completeBadge.style.fontSize = "1.2rem";
      completeBadge.style.fontWeight = "700";
      completeBadge.style.marginTop = "0.5rem";
      div.appendChild(completeBadge);
    } else if (now >= dayBefore && now < start) {
      div.classList.add("highlight");
    }
    const title = document.createElement("h2");
    title.textContent = exam.subject;
    div.appendChild(title);
    const dateDiv = document.createElement("div");
    dateDiv.className = "exam-date";
    dateDiv.textContent = getDateStr(exam.date);
    div.appendChild(dateDiv);
    const countdownP = document.createElement("div");
    countdownP.className = "countdown";
    const messageP = document.createElement("div");
    messageP.className = "message";
    if (subjectComplete) {
      messageP.textContent = "Well done!";
    } else if (now >= dayBefore && now < start) {
      const subjectName = exam.subject.split(" ")[0];
      messageP.textContent = `All the best for ${subjectName}!`;
    } else if (now < start) {
      const {days, hours, minutes} = formatTimediff(start - now);
      countdownP.textContent = `${days}d ${hours}h ${minutes}m left`;
    } else if (now >= start && now < end) {
      countdownP.textContent = "Exam in progress...";
    }
    div.appendChild(countdownP);
    div.appendChild(messageP);

    // Toggle button
    const toggleBtn = document.createElement("button");
    toggleBtn.className = "toggle-btn";
    toggleBtn.textContent = "View Chapters";
    let isOpen = false;
    toggleBtn.onclick = function(e) {
      e.stopPropagation();
      const portions = div.querySelector(".portions");
      isOpen = !isOpen;
      if (isOpen) {
        portions.classList.add("open");
        toggleBtn.textContent = "Hide Chapters";
        toggleBtn.classList.add("open");
      } else {
        portions.classList.remove("open");
        toggleBtn.textContent = "View Chapters";
        toggleBtn.classList.remove("open");
      }
    };
    div.appendChild(toggleBtn);

    // Sections with nested chapters
    const portionDiv = document.createElement("div");
    portionDiv.className = "portions";
    portionDiv.innerHTML = `<b>Chapters/Topics:</b>` + renderSections(exam.subject, exam.sections);

    // Checkbox logic: save on change, update section visuals and subject completion
    setTimeout(() => {
      function attachListeners(examDiv, exam) {
        exam.sections.forEach((section, secIdx) => {
          section.chapters.forEach((_, chIdx) => {
            const key = getStorageKey(exam.subject, secIdx, chIdx);
            const box = examDiv.querySelector(`#${key}`);
            if (!box) return;
            box.addEventListener("change", function() {
              localStorage.setItem(key, box.checked ? "1" : "");
              // Re-render the portions
              portionDiv.innerHTML = `<b>Chapters/Topics:</b>` + renderSections(exam.subject, exam.sections);
              // Re-attach listeners
              setTimeout(() => attachListeners(examDiv, exam), 10);
              // Check if subject is now complete and update UI
              if (isSubjectComplete(exam)) {
                updateCountdown(); // Full refresh to apply completed class
              }
            });
          });
        });
      }
      attachListeners(div, exam);
    }, 0);

    div.appendChild(portionDiv);
    container.appendChild(div);
  });
  progressBar.style.width = `${completed/exams.length*100}%`;
  finishedText.style.display = (completed === exams.length) ? "block" : "none";
}

updateDateTime();
updateCountdown();
setInterval(() => {
  updateDateTime();
  updateCountdown();
}, 60000); // every minute
</script>
</body>
</html>
